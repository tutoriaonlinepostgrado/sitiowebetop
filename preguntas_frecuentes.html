<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preguntas Frecuentes - ETOP</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; background-color: #19202E; }
        .main-panel {
            background: rgba(30, 41, 59, 0.8);
            backdrop-filter: blur(10px);
            border: 2px solid #facc15;
            position: relative;
        }
        details > summary {
            list-style: none; /* Remove default marker */
            cursor: pointer;
            padding: 1rem;
            background-color: #334155; /* slate-700 */
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            font-weight: 600; /* font-semibold */
            color: #facc15; /* yellow-400 */
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.2s ease;
        }
        details > summary:hover {
             background-color: #475569; /* slate-600 */
        }
        details > summary::after { /* Custom arrow */
            content: '+';
            font-size: 1.5rem;
            transition: transform 0.3s ease;
        }
        details[open] > summary::after {
            transform: rotate(45deg);
        }
        details > div { /* Content area */
            padding: 1rem;
            background-color: rgba(51, 65, 85, 0.3); /* Lighter background for content */
            border-radius: 0.5rem;
            border: 1px solid #475569; /* slate-600 border */
            margin-bottom: 1rem;
        }
        details div h3 { /* FAQ Question */
            font-weight: 600;
            color: #fde047; /* yellow-300 */
            margin-bottom: 0.5rem;
        }
        details div p { /* FAQ Answer */
            color: #cbd5e1; /* slate-300 */
            line-height: 1.6;
            text-align: justify;
        }
        .section-title {
            color: #facc15; /* yellow-400 */
            border-bottom: 2px solid #facc15;
            padding-bottom: 0.5rem;
            margin-bottom: 1.5rem;
            margin-top: 2.5rem;
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
        }
         /* Estilos para el Asistente Gemini */
        .gemini-assistant {
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid #475569; /* slate-600 */
        }
        .gemini-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            border: 1px solid #475569;
            background-color: #1e293b; /* slate-800 */
            color: white;
            margin-bottom: 1rem;
        }
        .gemini-button {
            background-color: #facc15; /* yellow-400 */
            color: #1e293b; /* slate-800 */
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .gemini-button:hover {
            background-color: #eab308; /* yellow-500 */
        }
         .gemini-button:disabled {
            background-color: #9ca3af; /* gray-400 */
            cursor: not-allowed;
         }
        .gemini-response {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: rgba(51, 65, 85, 0.5); /* slate-700 semi-transparent */
            border-radius: 0.5rem;
            border: 1px solid #475569;
            min-height: 50px; /* Para que el área sea visible */
            white-space: pre-wrap; /* Respeta saltos de línea y espacios */
            color: #e2e8f0; /* slate-200 */
        }
        .loading-spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 4px solid #facc15;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="text-white">
    <div class="min-h-screen flex flex-col items-center p-4">
        <div class="w-full max-w-7xl mx-auto rounded-2xl p-6 md:p-8 main-panel shadow-2xl my-8">
            
            <a href="index.html" class="absolute top-6 right-8 md:top-8 md:right-10 h-16 w-16 transition-transform duration-300 hover:scale-110" title="Volver al Portal Principal">
                <img src="https://res.cloudinary.com/dk53pztfo/image/upload/v1760373349/ETOP_1__03_e5xcw0.png" alt="Logo ETOP" class="rounded-full border-2 border-yellow-500 p-1">
            </a>

            <header class="text-center mb-8 md:mb-10">
                <h1 class="text-3xl md:text-4xl font-bold tracking-wider text-white">Preguntas Frecuentes (FAQ)</h1>
                <p class="text-slate-300 mt-2">Sobre el Modelo de Seguimiento y Retención.</p>
            </header>
            
            <main class="space-y-6 max-w-5xl mx-auto">

                <details>
                    <summary>A. Modelo de Seguimiento: Misión y Herramientas</summary>
                    <div>
                        <h3>1. ¿Cuál es la misión de la Unidad de Impartición de Posgrado Online?</h3>
                        <p>La misión es constituirse en una red de apoyo al estudiantado, acompañándolo en todo su proceso de formación para asegurar una experiencia educativa online con el más alto estándar de calidad, formando profesionales de excelencia.</p>
                        
                        <h3 class="mt-4">2. ¿Cuáles son las herramientas principales utilizadas para el seguimiento?</h3>
                        <p>Correo Electrónico, Telefonía I.P., C.R.M., Plataforma Canvas, Base Registro Seguimiento Estudiantes (Base_NRC_TUTOR), Banner Tableros, y Teams Minutas de reuniones.</p>
                        
                        <h3 class="mt-4">3. ¿Cuáles son las etapas principales del proceso de impartición?</h3>
                        <p>Preparación para Impartición (Etapa 1), Impartición Curso Inducción (Etapa 2), Impartición NRC (Curso) Malla (Etapa 3), y Cierre NRC (Etapa 4).</p>
                        
                        <h3 class="mt-4">4. ¿Qué se busca lograr en la Etapa de Preparación?</h3>
                        <p>Verificar sistemas y accesos, y realizar el primer contacto (Bienvenida) para generar un vínculo inicial.</p>

                        <h3 class="mt-4">5. ¿Cuál es el objetivo principal de la etapa de Inducción?</h3>
                        <p>Que el estudiante se sienta cómodo con Canvas, entienda su funcionamiento y fortalecer la relación socio-afectiva.</p>

                        <h3 class="mt-4">6. ¿Qué implica el "Cotejo Inicial Banner / Canvas / Base Semáforo"?</h3>
                        <p>Detectar precozmente dificultades de acceso a Canvas (primeros 3 días del NRC) y registrarlo para abordar incidencias a tiempo.</p>

                        <h3 class="mt-4">7. ¿Qué implica la Etapa de Cierre del curso?</h3>
                        <p>Acompañar el cierre académico y administrativo, gestionar entregas pendientes y asegurar el traspaso de notas a Banner (Canvas permanece abierto +14 días).</p>
                    </div>
                </details>

                <details>
                    <summary>B. Sistema Semáforo de Evaluación de Riesgos</summary>
                    <div>
                         <h3>8. ¿Qué es el Semáforo de seguimiento y quién lo utiliza?</h3>
                         <p>Es una herramienta interna de gestión proactiva usada por Impartición de Posgrado para monitorear el estado académico y comportamiento de estudiantes activos mediante colores.</p>
                         
                         <h3 class="mt-4">9. ¿Qué representa el color Verde?</h3>
                         <p>Estudiantes que cumplen objetivos o que resolvieron una situación de riesgo. Es el estado por defecto.</p>

                         <h3 class="mt-4">10. ¿Qué situaciones activan el color Amarillo?</h3>
                         <p>Problemas moderados que requieren seguimiento: llamadas no contestadas por no ingreso, no respuesta a contactabilidad (excl. bienvenida), sin actividad o envío de tareas.</p>

                         <h3 class="mt-4">11. ¿Qué representa el color Rojo y cuándo se aplica?</h3>
                         <p>Riesgo crítico de fracaso o retiro; requiere atención inmediata. Se aplica si no ingresa a curso de malla hasta el final, o si manifiesta reclamo (caso CRM).</p>

                         <h3 class="mt-4">12. ¿Qué significa el color Morado?</h3>
                         <p>Estudiante que no responde a acciones tutoriales al finalizar el curso (+14 días) y sin ingreso. Su situación se eleva al área académica y se suspende el seguimiento.</p>

                         <h3 class="mt-4">13. ¿Para qué se implementaron los colores Calipso y Naranjo?</h3>
                         <p>Calipso: Casos solucionados (comunicado por coordinación). Naranjo: Retiro confirmado (detiene seguimiento).</p>

                         <h3 class="mt-4">14. ¿Cuáles son los beneficios del Semáforo?</h3>
                         <p>Detección temprana, intervenciones personalizadas, mejora del rendimiento, reducción de deserción y optimización de recursos.</p>

                         <h3 class="mt-4">15. ¿Existe alguna notificación automática relacionada con el Semáforo?</h3>
                         <p>Sí, un correo mejorado cuando un estudiante pasa a Rojo, y un reporte semanal consolidado de estudiantes en Rojo en cursos activos.</p>
                    </div>
                </details>
                
                 <details>
                    <summary>C. Estrategias de Retención y Desafíos Académicos</summary>
                    <div>
                        <h3>16. ¿Qué se entiende por estrategias de retención estudiantil?</h3>
                        <p>Estrategias organizacionales para asegurar la permanencia estudiantil, reducir la deserción y fomentar la culminación exitosa.</p>
                        
                        <h3 class="mt-4">17. ¿Qué estrategias institucionales son efectivas para la retención?</h3>
                        <p>Servicios de orientación, tutorías académicas, diseño curricular flexible, plataformas tecnológicas adecuadas, y desarrollo de comunidades de apoyo.</p>
                        
                        <h3 class="mt-4">18. ¿Cómo se apoya a estudiantes con estrés o burnout?</h3>
                        <p>Mediante talleres de gestión del estrés, resiliencia, manejo del tiempo, mindfulness y asesoramiento psicológico.</p>
                        
                        <h3 class="mt-4">19. ¿Cómo se abordan las dificultades financieras?</h3>
                        <p>Ofreciendo becas, ayudas económicas, y talleres sobre gestión de préstamos y presupuestos.</p>

                        <h3 class="mt-4">20. ¿Qué papel juega el tutor académico en la retención?</h3>
                        <p>Es crucial para ofrecer apoyo personalizado, orientación, solución de dificultades, mejora del rendimiento y aumento de la confianza del estudiante.</p>

                        <h3 class="mt-4">21. ¿Cómo ayuda la flexibilidad en los estudios a la retención?</h3>
                        <p>Permite equilibrar responsabilidades personales y profesionales con los estudios (opciones a tiempo parcial, online, híbridos, ajuste de horarios).</p>

                        <h3 class="mt-4">22. ¿Cuáles son las categorías recurrentes de problemas identificados?</h3>
                        <p>Inasistencia/Falta de Participación; Problemas de Acceso/Comunicación; Situaciones Personales/Salud (incl. burnout); Gestiones Administrativas.</p>
                         
                        <h3 class="mt-4">23. ¿Qué se considera "Agotamiento" o Burnout?</h3>
                        <p>Estrés y agotamiento por sobrecarga de responsabilidades académicas y personales.</p>
                    </div>
                </details>

                 <details>
                    <summary>D. Procesos Administrativos y Tecnológicos</summary>
                    <div>
                        <h3>24. ¿Objetivo de la actualización del sistema interno de gestión (bases)?</h3>
                        <p>Optimizar tiempos de ingreso de información, unificar datos, facilitar seguimiento conjunto y asegurar información actualizada.</p>
                        
                        <h3 class="mt-4">25. ¿Cómo se interconectan las bases de datos ahora?</h3>
                        <p>La base NRC_TUTOR (calendarios) alimenta datos del curso a NRC_TUTOR_QA2_INCIDENCIA y a la base de seguimiento de estudiantes.</p>
                        
                        <h3 class="mt-4">26. ¿Qué alertas automatizadas existen para QA2?</h3>
                        <p>Un aviso para recordar confección de QA2 (cursos inician en 21-25 días, enviado Mar/Vie) y una alerta inmediata confirmando recepción del formulario QA2 enviado.</p>
                        
                        <h3 class="mt-4">27. ¿Qué notificaciones automáticas hay sobre inicio de cursos?</h3>
                        <p>Una notificación cada lunes sobre cursos que inician esa semana, complementando el aviso previo.</p>

                        <h3 class="mt-4">28. ¿Cómo asignar un nuevo intento en Canvas?</h3>
                        <p>1. Ir a Evaluación > Editar. 2. En "Asignar a", agregar nueva asignación seleccionando estudiante y nueva fecha (manteniendo la original). 3. Agregar intento adicional en configuración. 4. Guardar.</p>

                        <h3 class="mt-4">29. ¿Cómo evitar que otros accedan a un nuevo intento?</h3>
                        <p>Habilitar el nuevo intento después de la fecha de cierre ("Hasta"). Si ya caducó, solo estudiantes con excepciones podrán acceder.</p>
                    </div>
                </details>
                
                 <details>
                    <summary>E. Comunicación en el Entorno Virtual</summary>
                    <div>
                        <h3>30. ¿Diferencia entre comunicación sincrónica y asincrónica?</h3>
                        <p>Sincrónica: En vivo, interacción directa (ej. videoconferencia). Asincrónica: Respuesta no instantánea (ej. correo, mensajería).</p>
                        
                        <h3 class="mt-4">31. ¿Por qué es fundamental la empatía en el aula virtual?</h3>
                        <p>Se desarrolla observando a los participantes. Fomentarla crea un ambiente agradable, mejora la retención de contenido y aumenta la motivación.</p>
                        
                        <h3 class="mt-4">32. ¿Qué significa "retroalimentación efectiva" online?</h3>
                        <p>Es crucial para medir la efectividad de la enseñanza. Prioriza calidad sobre cantidad. Impacta positivamente en aprendizaje y bienestar mental.</p>
                        
                        <h3 class="mt-4">33. ¿Qué rol tienen las señales no verbales virtuales?</h3>
                        <p>Esenciales si micrófonos están silenciados (expresiones faciales). Emoticonos se consideran señales verbales digitales que muestran emociones.</p>
                    </div>
                </details>

                <!-- Sección del Asistente Gemini -->
                <section class="gemini-assistant">
                    <h2 class="section-title text-2xl font-bold text-center">✨ Asistente ETOP</h2>
                    <p class="text-center text-slate-300 mb-6">¿Tienes otra pregunta sobre el modelo de seguimiento, semáforo o temas relacionados? Escríbela aquí:</p>
                    
                    <textarea id="user-question" class="gemini-input" rows="3" placeholder="Ej: ¿Qué hago si un estudiante no responde mis correos?"></textarea>
                    
                    <div class="text-center">
                        <button id="ask-gemini-button" class="gemini-button">
                            <span id="button-text">Preguntar al Asistente</span>
                            <div id="loading-spinner" class="loading-spinner hidden"></div>
                        </button>
                    </div>

                    <div id="gemini-response-area" class="gemini-response mt-6">
                        La respuesta del asistente aparecerá aquí...
                    </div>
                </section>

            </main>

            <div class="text-center mt-12"> 
                <a href="recursos_aprendizaje.html" class="bg-yellow-500 hover:bg-yellow-600 text-slate-900 font-bold py-2 px-6 rounded-lg transition-all duration-300 inline-block">← Volver a Recursos de Aprendizaje</a>
            </div>
        </div>
    </div>

    <script>
        const askButton = document.getElementById('ask-gemini-button');
        const buttonText = document.getElementById('button-text');
        const loadingSpinner = document.getElementById('loading-spinner');
        const userQuestionInput = document.getElementById('user-question');
        const responseArea = document.getElementById('gemini-response-area');

        askButton.addEventListener('click', async () => {
            const userQuery = userQuestionInput.value.trim();
            if (!userQuery) {
                responseArea.textContent = 'Por favor, escribe una pregunta.';
                return;
            }

            // Deshabilitar botón y mostrar spinner
            askButton.disabled = true;
            buttonText.textContent = 'Pensando...';
            loadingSpinner.classList.remove('hidden');
            responseArea.textContent = 'Generando respuesta...'; // Placeholder mientras carga

            const apiKey = ""; // API Key se inyectará automáticamente
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            // System prompt para guiar al modelo
            const systemPrompt = "Actúa como un asistente experto y amigable del equipo ETOP (Equipo de Tutoría Online de Postgrado). Tu especialidad es el modelo de seguimiento tutorial, el sistema semáforo de riesgos estudiantiles y las estrategias de retención en posgrado online. Responde a las preguntas de los tutores de forma clara, concisa y práctica, basándote en el contexto del modelo ETOP siempre que sea posible. Si la pregunta es muy general o no está directamente relacionada, responde de la mejor manera posible manteniendo tu rol de asistente ETOP.";

            const payload = {
                contents: [{ parts: [{ text: userQuery }] }],
                systemInstruction: { // Incluimos el system prompt
                    parts: [{ text: systemPrompt }]
                }
                // Opcional: Podríamos añadir grounding si necesitamos info actualizada de la web
                // tools: [{ "google_search": {} }], 
            };

            try {
                // Implementación básica de reintentos con backoff exponencial
                let response;
                let attempts = 0;
                const maxAttempts = 5;
                let delay = 1000; // 1 segundo inicial

                while (attempts < maxAttempts) {
                    try {
                        response = await fetch(apiUrl, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify(payload)
                        });

                        if (response.ok) {
                            break; // Salir del bucle si la respuesta es exitosa
                        } else if (response.status === 429 || response.status >= 500) {
                            // Reintentar si hay throttling o error de servidor
                            attempts++;
                            if (attempts >= maxAttempts) throw new Error(`Error ${response.status}: Demasiados intentos.`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            delay *= 2; // Duplicar el retraso
                        } else {
                            // Error no recuperable
                            throw new Error(`Error ${response.status}: ${response.statusText}`);
                        }
                    } catch (fetchError) {
                         // Reintentar en caso de error de red
                         attempts++;
                         if (attempts >= maxAttempts) throw fetchError; // Lanzar error si se superan intentos
                         await new Promise(resolve => setTimeout(resolve, delay));
                         delay *= 2;
                    }
                }

                if (!response || !response.ok) {
                     throw new Error('No se pudo obtener respuesta después de varios intentos.');
                }


                const result = await response.json();
                
                // Extraer el texto de la respuesta
                const candidate = result.candidates?.[0];
                if (candidate && candidate.content?.parts?.[0]?.text) {
                    responseArea.textContent = candidate.content.parts[0].text;
                } else {
                     // Manejar respuesta inesperada o vacía
                    console.error("Respuesta inesperada de la API:", result);
                    responseArea.textContent = 'Hubo un problema al generar la respuesta. Por favor, revisa la consola para más detalles o intenta de nuevo.';
                }

            } catch (error) {
                console.error('Error al llamar a la API de Gemini:', error);
                responseArea.textContent = `Error al conectar con el asistente: ${error.message}. Intenta de nuevo más tarde.`;
            } finally {
                // Rehabilitar botón y ocultar spinner
                askButton.disabled = false;
                buttonText.textContent = 'Preguntar al Asistente';
                loadingSpinner.classList.add('hidden');
            }
        });
    </script>

</body>
</html>

